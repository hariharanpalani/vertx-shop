!function(e,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define(r):this[e]=r()}("aTpl",function(){"use strict";var e={version:"1.0.0",open:"{{",close:"}}",config:function(e){return this.open=e.open||"{{",this.close=e.close||"}}",this},exper:function(e){return new RegExp(e,"g")},seperate:function(e,r,t){var n=["@([\\s\\S])+?","([^{@}])*?"][e||0];return this.exper((r||"")+this.open+n+this.close+(t||""))},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},error:function(e){return"undefined"!=typeof console&&"undefined"!=typeof console.error&&console.error(e),e},parser:function(e,r){var t=this,n=t.exper("^"+t.open+"@",""),p=t.exper(t.close+"$","");this.bk=e,e=e.replace(/[\r\t\n]/g," ").replace(t.exper(t.open+"@"),t.open+"@ ").replace(t.exper(t.close+"}"),"} "+t.close).replace(/\\/g,"\\\\").replace(/(?="|')/g,"\\").replace(t.seperate(),function(e){return e=e.replace(n,"").replace(p,""),'";'+e.replace(/\\/g,"")+'; _v+="'}).replace(t.seperate(1),function(e){var r='"+(';return e.replace(/\s/g,"")===t.open+t.close?"":(e=e.replace(t.exper(t.open+"|"+t.close),""),/^=/.test(e)&&(e=e.replace(/^=/,""),r='"+_escape_('),r+e.replace(/\\/g,"")+')+"')}),e='"use strict";var _v = "'+e+'";return _v;';try{return t.cache=e=new Function("aTpl, _escape_",e),e(r,t.escape)}catch(c){return delete t.cache,t.error(c+t.tpl)}},template:function(e){return"string"==typeof e?(this.tpl=e,this):(e=e[0]||e,"text/aTpl"!==e.type?this:(this.tpl=e.innerHTML,this))},render:function(e,r){"function"==typeof e&&(e=e());var t,n=this;return e?this.tpl?(t=n.cache&&n.tpl===n.bk?n.cache(e,n.escape):n.parser(n.tpl,e),r?void r(t):t):n.error("no template"):n.error("no data")}};return e});